"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{881:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var n=r(982),a=r(861),c=r(885),s=r(757),o=r.n(s),u=r(791),i=r(197),l=r(731),p=r(689),f=r(402),h="Loader_backdrop__9D+In",v=r(184);function m(){return(0,v.jsx)("div",{className:h,children:(0,v.jsx)(f.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}var d=r(617),_=r(562),g={form:"SearchForm_form__o80os",input:"SearchForm_input__HOxJo",searchBtn:"SearchForm_searchBtn__rp2a7",search:"SearchForm_search__N-xkz"};var x=function(e){var t=e.onSubmit,r=(0,u.useState)(""),n=(0,c.Z)(r,2),a=n[0],s=n[1];return(0,v.jsxs)("form",{className:g.form,onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),s("")):_.Notify.failure("Enter your search request, please!")},children:[(0,v.jsx)("input",{className:g.input,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie title",onChange:function(e){var t=e.currentTarget.value;s(t)},value:a}),(0,v.jsx)("button",{type:"submit",className:g.searchBtn,children:(0,v.jsxs)("span",{className:g.searchLabel,children:[" ",(0,v.jsx)(d.G4C,{size:40,className:g.search})]})})]})},y="MoviesPage_movie__BajZk",b=function(){var e=(0,u.useState)([]),t=(0,c.Z)(e,2),r=t[0],s=t[1],f=(0,u.useState)(!1),h=(0,c.Z)(f,2),d=h[0],g=h[1],b=(0,u.useState)(null),k=(0,c.Z)(b,2),w=k[0],Z=k[1],j=(0,u.useState)(1),S=(0,c.Z)(j,2),N=S[0],C=S[1],B=(0,l.lr)(),F=(0,c.Z)(B,2),q=F[0],D=F[1],E=q.get("searchQuery"),U=(0,p.TH)();(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,i.vw)(E,N);case 4:t=e.sent,s((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();E&&e()}),[E,N]);var z=Boolean(r.length);return(0,v.jsxs)("main",{children:[(0,v.jsx)(x,{onSubmit:function(e){D({searchQuery:e}),C(1),s([])}}),d&&(0,v.jsx)(m,{}),w&&_.Notify.failure("Please try again later!"),z&&(0,v.jsx)("ul",{children:r.map((function(e){var t;return(0,v.jsx)("li",{className:y,children:(0,v.jsxs)(l.rU,{to:"/movies/".concat(e.id),state:{from:U},children:[e.title," |\xa0",(null===(t=e.release_date)||void 0===t?void 0:t.split("-")[0])||"No data"]})},e.id)}))})]})}},197:function(e,t,r){r.d(t,{l7:function(){return m},vw:function(){return h},wr:function(){return p}});var n=r(861),a=r(757),c=r.n(a),s=r(44),o="28318b77967fcb148715c1c7fa524b54",u="https://api.themoviedb.org/3/search/movie",i="https://api.themoviedb.org/3/trending/movie/day",l="https://api.themoviedb.org/3/movie/";function p(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(i,"?api_key=").concat(o,"&page=").concat(t));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(c().mark((function e(t,r){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"?api_key=").concat(o,"&query=").concat(t,"&page=").concat(r,"&language=en-US&include_adult=false"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(l).concat(t,"?api_key=").concat(o,"&language=en-US&append_to_response=videos"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=881.cffeb18c.chunk.js.map