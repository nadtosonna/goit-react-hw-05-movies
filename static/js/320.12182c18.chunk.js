"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[320],{1320:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(2982),a=n(5861),c=n(885),u=n(7757),o=n.n(u),s=n(2791),i=n(8197),p=n(6731),l=n(7689),f=n(2394),h=n(8617),v=n(5562),d={form:"SearchForm_form__o80os",input:"SearchForm_input__HOxJo",searchBtn:"SearchForm_searchBtn__rp2a7",search:"SearchForm_search__N-xkz"},m=n(184);var _=function(e){var t=e.onSubmit,n=(0,s.useState)(""),r=(0,c.Z)(n,2),a=r[0],u=r[1];return(0,m.jsxs)("form",{className:d.form,onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),u("")):v.Notify.failure("Enter your search request, please!")},children:[(0,m.jsx)("input",{className:d.input,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie title",onChange:function(e){var t=e.currentTarget.value;u(t)},value:a}),(0,m.jsx)("button",{type:"submit",className:d.searchBtn,children:(0,m.jsxs)("span",{className:d.searchLabel,children:[" ",(0,m.jsx)(h.G4C,{size:40,className:d.search})]})})]})},g="MoviesPage_movie__BajZk",y=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],u=t[1],h=(0,s.useState)(!1),d=(0,c.Z)(h,2),y=d[0],x=d[1],b=(0,s.useState)(null),w=(0,c.Z)(b,2),k=w[0],Z=w[1],S=(0,s.useState)(1),j=(0,c.Z)(S,2),N=j[0],B=j[1],C=(0,p.lr)(),F=(0,c.Z)(C,2),U=F[0],q=F[1],D=U.get("searchQuery"),E=(0,l.TH)();(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,(0,i.vw)(D,N);case 4:0===(t=e.sent).length?v.Notify.failure("Sorry! No movie was found!"):u((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();D&&e()}),[D,N]);var z=Boolean(n.length);return(0,m.jsxs)("main",{children:[(0,m.jsx)(_,{onSubmit:function(e){q({searchQuery:e}),B(1),u([])}}),y&&(0,m.jsx)(f.a,{}),k&&v.Notify.failure("Please try again later!"),z&&(0,m.jsx)("ul",{children:n.map((function(e){var t;return(0,m.jsx)("li",{className:g,children:(0,m.jsxs)(p.rU,{to:"/movies/".concat(e.id),state:{from:E},children:[e.title," |\xa0",(null===(t=e.release_date)||void 0===t?void 0:t.split("-")[0])||"No data"]})},e.id)}))})]})}},2394:function(e,t,n){n.d(t,{a:function(){return u}});var r=n(8402),a="Loader_backdrop__9D+In",c=n(184);function u(){return(0,c.jsx)("div",{className:a,children:(0,c.jsx)(r.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}},8197:function(e,t,n){n.d(t,{Bt:function(){return _},l7:function(){return d},vw:function(){return h},wr:function(){return l},y:function(){return y}});var r=n(5861),a=n(7757),c=n.n(a),u=n(1044),o="28318b77967fcb148715c1c7fa524b54",s="https://api.themoviedb.org/3/search/movie",i="https://api.themoviedb.org/3/trending/movie/day",p="https://api.themoviedb.org/3/movie/";function l(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"?api_key=").concat(o,"&page=").concat(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"?api_key=").concat(o,"&query=").concat(t,"&page=").concat(n,"&language=en-US&include_adult=false"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"?api_key=").concat(o,"&language=en-US&append_to_response=videos"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"/reviews?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=320.12182c18.chunk.js.map