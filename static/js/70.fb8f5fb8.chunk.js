"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[70],{3070:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(2982),a=n(5861),c=n(885),u=n(7757),o=n.n(u),s=n(2791),i=n(8197),p=n(6731),l=n(7689),f=n(8402),h="Loader_backdrop__9D+In",v=n(184);function d(){return(0,v.jsx)("div",{className:h,children:(0,v.jsx)(f.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}var m=n(8617),g=n(5562),y={form:"SearchForm_form__o80os",input:"SearchForm_input__HOxJo",searchBtn:"SearchForm_searchBtn__rp2a7",search:"SearchForm_search__N-xkz"};var _=function(e){var t=e.onSubmit,n=(0,s.useState)(""),r=(0,c.Z)(n,2),a=r[0],u=r[1];return(0,v.jsxs)("form",{className:y.form,onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),u("")):g.Notify.failure("Enter your search request, please!")},children:[(0,v.jsx)("input",{className:y.input,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie title",onChange:function(e){var t=e.currentTarget.value;u(t)},value:a}),(0,v.jsx)("button",{type:"submit",className:y.searchBtn,children:(0,v.jsxs)("span",{className:y.searchLabel,children:[" ",(0,v.jsx)(m.G4C,{size:40,className:y.search})]})})]})},x=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],u=t[1],f=(0,s.useState)(!1),h=(0,c.Z)(f,2),m=h[0],y=h[1],x=(0,s.useState)(null),b=(0,c.Z)(x,2),w=b[0],k=b[1],Z=(0,s.useState)(1),S=(0,c.Z)(Z,2),j=S[0],N=S[1],C=(0,p.lr)(),B=(0,c.Z)(C,2),F=B[0],U=B[1],q=F.get("searchQuery"),D=(0,l.TH)();(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,(0,i.vw)(q,j);case 4:0===(t=e.sent).length?g.Notify.failure("Sorry! No movie was found!"):u((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(e.t0);case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();q&&e()}),[q,j]);var E=Boolean(n.length);return(0,v.jsxs)("main",{children:[(0,v.jsx)(_,{onSubmit:function(e){U({searchQuery:e}),N(1),u([])}}),m&&(0,v.jsx)(d,{}),w&&g.Notify.failure("Please try again later!"),E&&(0,v.jsx)("ul",{children:n.map((function(e){var t;return(0,v.jsx)("li",{children:(0,v.jsxs)(p.rU,{to:"/movies/".concat(e.id),state:{from:D},children:[e.title," |\xa0",(null===(t=e.release_date)||void 0===t?void 0:t.split("-")[0])||"No data"]})},e.id)}))})]})}},8197:function(e,t,n){n.d(t,{Bt:function(){return g},l7:function(){return d},vw:function(){return h},wr:function(){return l},y:function(){return _}});var r=n(5861),a=n(7757),c=n.n(a),u=n(1044),o="28318b77967fcb148715c1c7fa524b54",s="https://api.themoviedb.org/3/search/movie",i="https://api.themoviedb.org/3/trending/movie/day",p="https://api.themoviedb.org/3/movie/";function l(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"?api_key=").concat(o,"&page=").concat(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"?api_key=").concat(o,"&query=").concat(t,"&page=").concat(n,"&language=en-US&include_adult=false"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"/reviews?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(p).concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=70.fb8f5fb8.chunk.js.map