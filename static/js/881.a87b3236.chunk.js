"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{1881:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(2982),a=n(5861),c=n(885),u=n(7757),o=n.n(u),s=n(2791),i=n(8197),l=n(6731),p=n(7689),f=n(8402),h="Loader_backdrop__9D+In",v=n(184);function m(){return(0,v.jsx)("div",{className:h,children:(0,v.jsx)(f.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})}var d=n(8617),g=n(5562),_={form:"SearchForm_form__o80os",input:"SearchForm_input__HOxJo",searchBtn:"SearchForm_searchBtn__rp2a7",search:"SearchForm_search__N-xkz"};var y=function(e){var t=e.onSubmit,n=(0,s.useState)(""),r=(0,c.Z)(n,2),a=r[0],u=r[1];return(0,v.jsxs)("form",{className:_.form,onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),u("")):g.Notify.failure("Enter your search request, please!")},children:[(0,v.jsx)("input",{className:_.input,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter movie title",onChange:function(e){var t=e.currentTarget.value;u(t)},value:a}),(0,v.jsx)("button",{type:"submit",className:_.searchBtn,children:(0,v.jsxs)("span",{className:_.searchLabel,children:[" ",(0,v.jsx)(d.G4C,{size:40,className:_.search})]})})]})},x="MoviesPage_movie__BajZk",b=function(){var e=(0,s.useState)([]),t=(0,c.Z)(e,2),n=t[0],u=t[1],f=(0,s.useState)(!1),h=(0,c.Z)(f,2),d=h[0],_=h[1],b=(0,s.useState)(null),w=(0,c.Z)(b,2),k=w[0],Z=w[1],S=(0,s.useState)(1),j=(0,c.Z)(S,2),N=j[0],B=j[1],C=(0,l.lr)(),F=(0,c.Z)(C,2),U=F[0],q=F[1],D=U.get("searchQuery"),E=(0,p.TH)();(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,i.vw)(D,N);case 4:0===(t=e.sent).length?g.Notify.failure("Sorry! No movie was found!"):u((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(t))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z(e.t0);case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();D&&e()}),[D,N]);var z=Boolean(n.length);return(0,v.jsxs)("main",{children:[(0,v.jsx)(y,{onSubmit:function(e){q({searchQuery:e}),B(1),u([])}}),d&&(0,v.jsx)(m,{}),k&&g.Notify.failure("Please try again later!"),z&&(0,v.jsx)("ul",{children:n.map((function(e){var t;return(0,v.jsx)("li",{className:x,children:(0,v.jsxs)(l.rU,{to:"/movies/".concat(e.id),state:{from:E},children:[e.title," |\xa0",(null===(t=e.release_date)||void 0===t?void 0:t.split("-")[0])||"No data"]})},e.id)}))})]})}},8197:function(e,t,n){n.d(t,{Bt:function(){return g},l7:function(){return m},vw:function(){return h},wr:function(){return p},y:function(){return y}});var r=n(5861),a=n(7757),c=n.n(a),u=n(1044),o="28318b77967fcb148715c1c7fa524b54",s="https://api.themoviedb.org/3/search/movie",i="https://api.themoviedb.org/3/trending/movie/day",l="https://api.themoviedb.org/3/movie/";function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(i,"?api_key=").concat(o,"&page=").concat(t));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(s,"?api_key=").concat(o,"&query=").concat(t,"&page=").concat(n,"&language=en-US&include_adult=false"));case 3:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(l).concat(t,"?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(l).concat(t,"/reviews?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("".concat(l).concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=881.a87b3236.chunk.js.map